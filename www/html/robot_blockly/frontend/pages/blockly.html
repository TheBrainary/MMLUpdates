<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <title>MiRo-E Simulator</title>

    <link href="bootstrap/css/bootstrap.css" rel="stylesheet"/>
    <script src="jquery/jquery-3.3.1.js"></script>

    <!-- Custom Fonts -->
    <link href="../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="js/miro_core.js"></script>
    <link rel="stylesheet" href="assets/css/miro.css">

    <!-- Include Blocky -->
    <script src="../blockly/blockly_compressed.js"></script>

    <script src="../blockly/blocks/logic.js"></script>
    <script src="../blockly/blocks/loops.js"></script>
    <script src="../blockly/blocks/math.js"></script>
    <script src="../blockly/blocks/text.js"></script>
    <script src="../blockly/blocks/lists.js"></script>
    <script src="../blockly/blocks/colour.js"></script>
    <script src="../blockly/blocks/variables.js"></script>
    <script src="../blockly/blocks/procedures.js"></script>
    <script src="../blockly/blocks/code.js"></script>
    <script src="../blockly/blocks/control.js"></script>
    <script src="../blockly/blocks/miro.js"></script>
    <!-- <script src="../blockly/blocks/erle-rover.js"></script>
    <script src="../blockly/blocks/erle-brain.js"></script>
    <script src="../blockly/blocks/erle-spider.js"></script> -->

    <!-- <script src="../blockly/python_compressed.js"></script> -->
    <script src="../blockly/generators/python.js"></script>
    <script src="../blockly/generators/python/colour.js"></script>
    <script src="../blockly/generators/python/code.js"></script>
    <script src="../blockly/generators/python/procedures.js"></script>
    <script src="../blockly/generators/python/lists.js"></script>
    <script src="../blockly/generators/python/math.js"></script>
    <script src="../blockly/generators/python/text.js"></script>
    <script src="../blockly/generators/python/variables.js"></script>
    <script src="../blockly/generators/python/loops.js"></script>
    <script src="../blockly/generators/python/logic.js"></script>
    <script src="../blockly/generators/python/control.js"></script>
    <!-- Robots -->
    <script src="../blockly/generators/python/miro.js"></script>
<!--     <script src="../blockly/generators/python/erle-rover.js"></script>
    <script src="../blockly/generators/python/erle-brain.js"></script>
    <script src="../blockly/generators/python/erle-spider.js"></script> -->

    <!-- <script src="../blockly/php_compressed.js"></script> -->
    <script src="../blockly/generators/php.js"></script>
    <script src="../blockly/generators/php/colour.js"></script>
    <script src="../blockly/generators/php/procedures.js"></script>
    <script src="../blockly/generators/php/lists.js"></script>
    <script src="../blockly/generators/php/math.js"></script>
    <script src="../blockly/generators/php/text.js"></script>
    <script src="../blockly/generators/php/variables.js"></script>
    <script src="../blockly/generators/php/loops.js"></script>
    <script src="../blockly/generators/php/logic.js"></script>
    <!-- <script src="../blockly/javascript_compressed.js"></script> -->
    <script src="../blockly/generators/javascript.js"></script>
    <script src="../blockly/generators/javascript/colour.js"></script>
    <script src="../blockly/generators/javascript/procedures.js"></script>
    <script src="../blockly/generators/javascript/lists.js"></script>
    <script src="../blockly/generators/javascript/math.js"></script>
    <script src="../blockly/generators/javascript/text.js"></script>
    <script src="../blockly/generators/javascript/variables.js"></script>
    <script src="../blockly/generators/javascript/loops.js"></script>
    <script src="../blockly/generators/javascript/logic.js"></script>

    <!-- <script src="../blockly/msg/js/en.js"></script> -->
    <script src="../blockly/msg/messages.js"></script>

    <!-- Ace editor -->
    <script src="../ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <!-- https://s.codepen.io/AndrewBarfield/pen/LEbPJx.js -->
    <!-- <script src="js/LEbPJx.js"></script> -->

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="assets/css/grid_miro.css">

</head>

<body onload="loadToolBox();document.addEventListener('contextmenu', event => event.preventDefault());" style="background-color: #2A2D2F; margin-top: 0px;">
        <div id="main" class="wrapper">
            <aside>
                <div id="blocklyDiv" ></div>
                <div id="blocklyArea"></div>
                <script src="kitchen-sink/require.js"></script>
                <div id="toolbar" class="toolbar" style="margin-left: 15px; display: none">
                  <button id="toolbar_reset_btn" style="display: inline-block" onClick="blocklyToUser();" disabled>Reset to Blockly Code</button>
                  <button id="toolbar_edit_btn" style="display: inline-block" onClick="toggleEditCode();">Edit Code</button>
                </div>
                <div id="editor" style="margin-left: 15px; display: none;"></div>
            </aside>


        <!-- wrapper -->
    </div>
    <!-- container -->
<xml id="toolbox" style="display: none">



	<category id="miro" name="Setup" iconclass="blocklyTreeIconCustom setup">
		<block type="setup_miro"></block>
		<block type="miro_control_loop"></block>
	</category>
	<category id="miro motion simple" name="Simple Motion" iconclass="blocklyTreeIconCustom motion">
		<block type="lift_head"></block>
		<block type="lift_chin"></block>
		<block type="look"></block>
		<block type="move"></block>
		<block type="stop_moving"></block>
		<block type="turn"></block>
		<block type="stop_turning"></block>
		<block type="move_ears"></block>
		<block type="move_eyelids"></block>
		<block type="point_tail"></block>
		<block type="droop_tail"></block>
		<block type="wag_tail">
			<value name="wag_dur">
				<block type="math_number">
					<field name="NUM">3</field>
				</block>
			</value>
		</block>
	</category>
	<category id="miro motion complex" name="Complex Motion" iconclass="blocklyTreeIconCustom motion">
		<block type="change_lift_angle">
			<value name="angle_deg">
				<block type="math_number">
					<field name="NUM">35</field>
				</block>
			</value>
		</block>
		<block type="change_pitch_angle">
			<value name="angle_deg">
				<block type="math_number">
					<field name="NUM">0</field>
				</block>
			</value>
		</block>
		<block type="change_yaw_angle">
			<value name="angle_deg">
				<block type="math_number">
					<field name="NUM">0</field>
				</block>
			</value>
		</block>
		<block type="set_forward_speed">
			<value name="x_vel">
				<block type="math_number">
					<field name="NUM">0.1</field>
				</block>
			</value>
		</block>
		<block type="set_turn_speed">
			<value name="z_ang_vel">
				<block type="math_number">
					<field name="NUM">25</field>
				</block>
			</value></block>
			<block type="move_ears"></block>
			<block type="move_eyelids"></block>
			<block type="point_tail"></block>
			<block type="droop_tail"></block>
			<block type="wag_tail">
				<value name="wag_dur">
					<block type="math_number">
						<field name="NUM">3</field>
					</block>
				</value>
			</block>
		</category>
		<category id="miro sensors" name="Sensors" iconclass="blocklyTreeIconCustom sensors">
			<!-- <block type="read_light_sensor"></block>
			<block type='read_all_light_sensors'></block> -->
			<block type="read_sonar_range"></block>
			<block type="read_cliff_sensor"></block>
			<block type="read_both_cliff_sensors"></block>
			<block type="clap_in_previous">
				<value name="time_secs">
					<block type="math_number">
						<field name="NUM">2</field>
					</block>
				</value>
			</block>
			<block type="time_since_clap"></block>
			<block type="wait_for_clap"></block>
			<block type="read_body_touch_sensors"></block>
			<block type="read_head_touch_sensors"></block>
			<!-- currently hidden from end users

			<block type="find_ball"></block>
		-->
		</category>
		<!-- <category id="miro utility" name="Actions" iconclass="blocklyTreeIconCustom utility"> -->
		<!--
		<block type="find_circle"></block>
		-->
		<!-- </category> -->
		<category id="miro robot_only" name="Sound & Light" iconclass="blocklyTreeIconCustom utility">
			<block type="play_tone">
				<value name="FREQ">
					<block type="math_number">
						<field name="NUM">500</field>
					</block>
				</value>
				<value name="DUR">
					<block type="math_number">
						<field name="NUM">0.5</field>
					</block>
				</value>
				<value name="VOL">
					<block type="math_number">
						<field name="NUM">100</field>
					</block>
				</value>
			</block>
			<block type="change_led"></block>
			<block type="miro_say">
				<value name="say_text">
					<block type="text">
						<field name="TEXT"></field>
					</block>
				</value>
			</block>
			<block type="miro_play"></block>
		</category>


	<sep></sep>



	<category id="catLogic" name="Logic" iconclass="blocklyTreeIconCustom logic">
		<block type="controls_if"></block>
		<block type="logic_compare"></block>
		<block type="logic_operation"></block>
		<block type="logic_negate"></block>
		<block type="logic_boolean"></block>
		<block type="logic_null"></block>
		<block type="logic_ternary"></block>
	</category>
	<category id="catLoops" name="Loops" iconclass="blocklyTreeIconCustom loops">
		<block type="controls_repeat_ext">
			<value name="TIMES">
				<block type="math_number">
					<field name="NUM">10</field>
				</block>
			</value>
		</block>
		<block type="controls_whileUntil"></block>
		
		<block type="controls_for">
			<value name="FROM">
				<block type="math_number">
					<field name="NUM">1</field>
				</block>
			</value>
			<value name="TO">
				<block type="math_number">
					<field name="NUM">10</field>
				</block>
			</value>
			<value name="BY">
				<block type="math_number">
					<field name="NUM">1</field>
				</block>
			</value>
		</block>
		<block type="controls_forEach"></block>
		<block type="controls_flow_statements"></block>
	</category>
	<category id="catMath" name="Math" iconclass="blocklyTreeIconCustom math">
		<block type="math_number"></block>
		<block type="math_arithmetic"></block>
		<block type="math_single"></block>
		<block type="math_trig"></block>
		<block type="math_constant"></block>
		<block type="math_number_property"></block>
		<block type="math_change">
			<value name="DELTA">
				<block type="math_number">
					<field name="NUM">1</field>
				</block>
			</value>
		</block>
		<block type="math_round"></block>
		<block type="math_on_list"></block>
		<block type="math_modulo"></block>
		<block type="math_constrain">
			<value name="LOW">
				<block type="math_number">
					<field name="NUM">1</field>
				</block>
			</value>
			<value name="HIGH">
				<block type="math_number">
					<field name="NUM">100</field>
				</block>
			</value>
		</block>
		<block type="math_random_int">
			<value name="FROM">
				<block type="math_number">
					<field name="NUM">1</field>
				</block>
			</value>
			<value name="TO">
				<block type="math_number">
					<field name="NUM">100</field>
				</block>
			</value>
		</block>
		<block type="math_random_float"></block>
	</category>
	<category id="catLists" name="Lists" iconclass="blocklyTreeIconCustom lists">
		<block type="lists_create_with">
			<mutation items="0"></mutation>
		</block>
		<block type="lists_create_with"></block>
		<block type="lists_repeat">
			<value name="NUM">
				<block type="math_number">
					<field name="NUM">5</field>
				</block>
			</value>
		</block>
		<block type="lists_length"></block>
		<block type="lists_isEmpty"></block>
		<block type="lists_indexOf">
			<value name="VALUE">
				<block type="variables_get">
					<field name="VAR" class="listVar">...</field>
				</block>
			</value>
		</block>
		<block type="lists_getIndex">
			<value name="VALUE">
				<block type="variables_get">
					<field name="VAR" class="listVar">...</field>
				</block>
			</value>
		</block>
		<block type="lists_setIndex">
			<value name="LIST">
				<block type="variables_get">
					<field name="VAR" class="listVar">...</field>
				</block>
			</value>
		</block>
		<block type="lists_getSublist">
			<value name="LIST">
				<block type="variables_get">
					<field name="VAR" class="listVar">...</field>
				</block>
			</value>
		</block>
		<block type="lists_split">
			<value name="DELIM">
				<block type="text">
					<field name="TEXT">,</field>
				</block>
			</value>
		</block>
	</category>
	<category id="catVariables" custom="VARIABLE" name="Variables" iconclass="blocklyTreeIconCustom variables"></category>
	<category id="catFunctions" custom="PROCEDURE" name="Functions" iconclass="blocklyTreeIconCustom functions"></category>
	<category id="code" name="Code" iconclass="blocklyTreeIconCustom code">
		<block type="run_code"></block>
	</category>
	<category id="control" name="Control" iconclass="blocklyTreeIconCustom control">
		<block type="wait_seconds">
			<value name="num_seconds">
				<block type="math_number">
					<field name="NUM">1</field>
				</block>
			</value>
		</block>
		<block type="for_time">
			<value name="num_seconds">
				<block type="math_number">
					<field name="NUM">5</field>
				</block>
			</value>
		</block>
	</category>



	</xml>
    <!-- Code execution logic -->
    <script src="./js/execution_logic.js"></script>
</body>
</html>
